@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
@model Website.RequestObjects.ContentRequest

<link rel="stylesheet" href="~/lib/simplemde/simplemde.min.css" />
<script src="~/lib/simplemde/simplemde.min.js"></script>
<script type="text/javascript">

    $(document).ready(function () {
        setTimeout(function () {
            var simplemde = new SimpleMDE({
                element: document.getElementById("question-text"),
                spellChecker: false,
                placeholder: "Write your question here",
                status: false,
                tabSize: 4
            });

            $(".exit-full-screen").click(function () {
                if (simplemde.isFullscreenActive()) {
                    simplemde.toggleFullScreen();
                }
            });

            simplemde.codemirror.on("focus", function () {
                $(".CodeMirror").addClass("focus")
            });

            simplemde.codemirror.on("blur", function () {
                $(".CodeMirror").removeClass("focus")
            });

            simplemde.codemirror.on("refresh", function () {
                if (simplemde.isFullscreenActive()) {
                    $(".exit-full-screen").fadeIn(200);
                }
                else {
                    $(".exit-full-screen").fadeOut(200);
                }
            });

            $(".fa").addClass("btn");
            $(".fa").addClass("btn-lg");
        }, 100);
    });

</script>

<br />
<form method="post" data-toggle="validator" class="form-group">
    @Html.HiddenFor(i => i.ContentId)
    @Html.HiddenFor(i => i.Type)
    <div class="form-group">
        <label for="title">Title</label>
        <input type="text" autocomplete="off" class="form-control" id="title" placeholder="Enter a title for your question" asp-for="@Model.Title">
    </div>
    <div class="form-group">
        <label for="question-text">Question</label>

        <textarea id="question-text" class="form-control" style="max-width:initial; display:none" asp-for="@Model.Body"></textarea>
    </div>

    <div id="preview">

    </div>

    <button type="submit" class="btn">
        @if (Model.ContentId == null)
        {
            <span>Post Question</span>
        }
        else
        {
            <span>Save Edit</span>
        }
    </button>
</form>